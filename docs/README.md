# **🚀**요구 사항 분석하기

## **다리**

- 다리는 왼쪽에서 오른쪽으로 건넌다
- 다리의 각 칸은 0 또는 1의 값을 가진다 (아래 / 위로 건널 수 있음)
- U / D로 위 / 아래 칸을 나타낸다
- 게임을 재 시작 하더라도 다리 상태는 그대로

### 길이

다리의 길이는 `[3,20]` 사이의 값

잘못된 값 입력 시 `IllegalArgumentException` 발생 → 그 부분부터 다시 입력 받는다

플레이어가 이동할 칸을 입력 받아 **현재 위치에** 알맞은 값이면 O / 아니면 X를 출력

→ 모듈은 사용자의 현재 위치를 입력 받던 / 기억하던 해야함(`stateful`)

→ `Bridge` 객체를 입력 받아 메시지를 보냄

→ `getter`를 통한 `OutputView` 지원 (필요한 정보 제공)

## **이동**

`U`or `D`의 값을 가짐

그 외의 입력의 경우 `IllegalArgumentException`

## 다리 게임

1. **다리 생성 (`initialize`)**
    - 사용자로부터 다리 길이를 입력 받아 다리 생성

2. **게임 진행 (`progress`)**
    - 사용자로부터 선택지(U/D)를 입력 받아 이동
    - 게임 클리어 / 오버 시 해당 분기점에 알맞은 작업 수행
        - **게임 클리어인 경우**

          알맞은 형식으로 출력 후 게임 종료
          (게임 결과 / 성공 여부 / 시도 횟수)

        - **게임 오버인 경우**
          게임 오버 형식 출력 후 재 시작 여부를 입력 받음
          (R → 재시작 / Q → 종료)

3. **게임 종료 (`end`)**
    - 게임 시도 횟수
    - 게임 성공 여부
    - 현재 게임 맵 상태를 출력
- 각각의 입력에서 잘못된 입력이 들어오는 경우, 에러 메시지 출력 후 다시 입력

---

# **🚀**도메인 구분

## ✏️InputView

사용자로부터 입력을 받아 반환하는 역할

<aside>
❗  

다리 길이를 입력 받는 기능 (`[3,20]`)

이동 위치를 입력 받는 기능 (`U/D`)

게임 재 시도 여부를 입력 받는 기능 (`R/Q`)

→ 숫자를 입력 받는 기능 / 문자를 입력 받는 기능
→ 최소한의 검증을 담당(숫자인지 / 비어있지는 않은지 등)

</aside>

## 💻OutputView

사용자에게 게임 진행 상황 / 결과를 출력하는 역할

<aside>
❗ 현재까지 다리 상태를 출력하는 기능

게임 최종 결과를 출력하는 기능
→ 다리 상태 / 게임 성공 여부 / 시도 횟수

</aside>

## 💻InputValidator

입력 값의 검증을 담당

<aside>
❗ 다리 길이를 검증하는 기능

게임 중 이동을 위한 입력을 검증하는 기능

게임 재 시작을 위한 입력을 검증하는 기능

</aside>

## ✏️Bridge(Random)NumberGenerator

다리 위치 별 알맞은 선택지(U / D)를 정하는 역할

<aside>

❗  `0` or `1`의 값을 반환하는 기능

</aside>

## 📠BridgeMaker

입력 받은 다리 길이를 바탕으로 다리를 생성해 반환하는 역할

<aside>
❗ 다리 길이를 입력 받아 다리를 생성, 반환하는 기능

</aside>

## 🎮BridgeGame

다리 게임을 진행하는 역할

<aside>
❗ 한 칸 전진을 수행하는 기능

게임을 재 시작하는 기능

현재까지 게임 결과를 반환하는 기능
(게임 시도 횟수
게임 성공 여부
게임 맵 상태)

</aside>

---

## ✏️BridgeGameController

게임 전체 흐름을 제어하는 역할

<aside>
❗ 게임 초기화 기능(다리 생성)

게임 진행 기능(이동 선택을 입력 받아 이동)

게임 종료 시 전체 결과를 출력하는 기능

</aside>

## ✏️BridgeGameService

추상화 되어있는 컨트롤러의 기능을 실제로 구현 / 수행하는 역할

<aside>
❗ 사용자로부터 다리 길이를 입력 받아 다리 초기화를 수행하는 기능

사용자로부터 선택지를 입력 받아 게임을 진행하는 기능
- 게임 오버 시 사용자로부터 선택지를 입력 받아 재시작 여부 확인

게임 종료 시 전체 결과를 출력하는 기능

각 입력 값에 대한 검증 및 입력 요청을 담당

</aside>

## ❓MoveChoice

사용자가 이동하기를 원하는 칸(위 / 아래)를 나타내는 역할

<aside>
❗ 아래의 두 가지 상태를 가짐

`UP(U,0)`
`DOWN(D,1)`

U / D를 입력 받아 알맞은 `MoveChoice`를 반환하는 기능

숫자(`0/1`) / 문자(`U/D`)를 입력 받아 해당 `MoveChoice`에 알맞은 값인지 반환하는 기능

잘못된 입력이 들어오는 경우 `IllegalArgumentException`을 반환

</aside>

## ❓RetryIntention

사용자의 게임 재 도전 의사를 나타내는 역할

<aside>
❗ 아래의 두 가지 상태를 가짐

`QUIT('Q',false)`
`CONTINUE('C',true)`

Q / D를 입력 받아 알맞은 `RetryIntention`반환하는 기능

잘못된 입력이 들어오는 경우 `IllegalArgumentException`을 반환

</aside>

## 🎮GameResult

현재까지 게임 정보를 담고 있는 객체

<aside>
❗ 게임 총 시도 횟수를 반환하는 기능

게임 성공 여부를 반환하는 기능

현재까지 이동 경로를 반환하는 기능

</aside>


## 🎮BridgeGameExceptions

❗프로그램 실행 과정에서 발생하는 에러 목록을 정의하는 역할

<aside>

입력 값이 숫자가 아닌 경우 (`NOT_A_NUMBER`)

입력 값이 범위를 벗어난 경우(`OUT_OF_RANGE`)

입력 값이 비어있는 경우(`NULL_INPUT`)

입력 값이 알맞지 않은 경우(`INCORRECT_INPUT`)

</aside>

## 🎮GameStatus

❗현재 게임 상태를 나타내는 역할

<aside>

현재 게임이 진행중인 경우 (`IN_PROCESS`)

클리어된 경우(`SUCCEED`)

게임오버된 경우(`FAILED`)


</aside>